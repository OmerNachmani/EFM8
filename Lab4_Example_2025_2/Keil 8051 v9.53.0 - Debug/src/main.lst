C51 COMPILER V9.60.0.0   MAIN                                                              12/05/2025 11:10:17 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\src/main.OBJ
COMPILER INVOKED BY: Z:\home\onachman\SimplicityStudio5\SimplicityStudio_v5\developer\toolchains\keil_8051\9.60\BIN\C51 
                    -/home/onachman/SimplicityStudio/v5_workspace/Lab4_Example_2025_2/src/main.c OMF2 SMALL DEBUG OBJECTEXTEND ROM(LARGE) WAR
                    -NINGLEVEL(2) FLOATFUZZY(3) OPTIMIZE(8,SPEED) INTVECTOR(0X0000) INTPROMOTE INCDIR(/home/onachman/SimplicityStudio/v5_work
                    -space/Lab4_Example_2025_2/inc;/home/onachman/SimplicityStudio/v5_workspace/Lab4_Example_2025_2/inc/config;/home/onachman
                    -/SimplicityStudio5/SimplicityStudio_v5/developer/sdks/8051/v4.3.1//kits/common/drivers/efm8_memory_lcd/inc;/home/onachma
                    -n/SimplicityStudio5/SimplicityStudio_v5/developer/sdks/8051/v4.3.1//kits/common/drivers/efm8_memory_lcd/inc/graphics;/ho
                    -me/onachman/SimplicityStudio5/SimplicityStudio_v5/developer/sdks/8051/v4.3.1//kits/common/drivers/efm8_memory_lcd/inc/co
                    -nfig;/home/onachman/SimplicityStudio5/SimplicityStudio_v5/developer/sdks/8051/v4.3.1//kits/common/bsp;/home/onachman/Sim
                    -plicityStudio5/SimplicityStudio_v5/developer/sdks/8051/v4.3.1//kits/EFM8UB2_SLSTK2001A/config;/home/onachman/SimplicityS
                    -tudio5/SimplicityStudio_v5/developer/sdks/8051/v4.3.1//Device/shared/si8051Base;/home/onachman/SimplicityStudio5/Simplic
                    -ityStudio_v5/developer/sdks/8051/v4.3.1//Device/EFM8UB2/inc;/home/onachman/SimplicityStudio5/SimplicityStudio_v5/develop
                    -er/sdks/8051/v4.3.1//kits/common/drivers/efm8_joystick;/home/onachman/SimplicityStudio5/SimplicityStudio_v5/developer/sd
                    -ks/8051/v4.3.1//kits/common/drivers/efm8_rgb_led;/home/onachman/SimplicityStudio5/SimplicityStudio_v5/developer/sdks/805
                    -1/v4.3.1//Device/EFM8UB2/peripheral_driver/inc) PRINT(.\src/main.lst) COND PAGEWIDTH(120) PAGELENGTH(65) OBJECT(.\src/ma
                    -in.OBJ)

line level    source

   1          //-----------------------------------------------------------------------------
   2          // LAB4 - STUDENT template for tasks a,b,c: lines, text and smiley
   3          //----------------------------------------------------------------------------
   4          //  Copyright (C) Shenkar College
   5          //  Electronics & Electrical Engineering Department
   6          //  All rights reserved.
   7          //  Owner               :  Liviu Gal & Engr.Dmitry Ryzhkov
   8          //  FILE NAME    :  LAB4 template
   9          //  DATE         :  15/10/25
  10          //  TARGET MCU   :  EFM8UB20F64G-B-QFP48,  EFM8UB2-B-revA01
  11          //  DESCRIPTION  :  This program illustrates how to:
  12          //                                      - disable the watchdog timer,
  13          //                                      - using SPI serial communication,
  14          //
  15          //
  16          //-----------------------------------------------------------------------------
  17          //-----------------------------------------------------------------------------
  18          // Resources
  19          //-----------------------------------------------------------------------------
  20          // SYSCLK - 48MHz HFOSC / 2
  21          // SPI0   - 1MHz
  22          // Timer2 - 2MHz (SPI CS delay)
  23          // Timer3 - 1KHz (1ms tick)
  24          // P0.1 - CS (Active High)
  25          // P0.6 - SCK
  26          // P1.0 - MOSI
  27          // P1.4 - Display enable
  28          //-----------------------------------------------------------------------------
  29          // Includes
  30          //-----------------------------------------------------------------------------
  31          #include "bsp.h"
  32          #include "InitDevice.h"
  33          #include "disp.h"
  34          #include "tick.h"
  35          #include "render.h"
  36          #define LCD_height 128
  37          //-----------------------------------------------------------------------------
  38          // SiLabs_Startup() Routine
  39          // ----------------------------------------------------------------------------
  40          // This function is called immediately after reset, before the initialization
  41          // code is run in SILABS_STARTUP.A51 (which runs before main() ). This is a
  42          // useful place to disable the watchdog timer, which is enable by default
C51 COMPILER V9.60.0.0   MAIN                                                              12/05/2025 11:10:17 PAGE 2   

  43          // and may trigger before main() in some instances.
  44          //-----------------------------------------------------------------------------
  45          void SiLabs_Startup (void)
  46          {
  47   1        // Disable the watchdog here
  48   1      }
  49           
  50          //Students need to complete code in main program
  51          int main(void)
  52          {
  53   1      //define variable "line" to support text and graphics
  54   1      SI_SEGMENT_VARIABLE(line[DISP_BUF_SIZE], uint8_t, RENDER_LINE_SEG);
  55   1      
  56   1      //********* define your variables here
  57   1      
  58   1        enter_DefaultMode_from_RESET();  // Enter default mode
  59   1      
  60   1        IE_EA = 1;    // Enable all interrupts
  61   1      
  62   1      //init LCD
  63   1        DISP_Init();
  64   1        DISP_ClearAll();
  65   1        line[7]=0x01;
  66   1        DISP_WriteLine(0,line);
  67   1        DISP_WriteLine(14,line);
  68   1        line[7]=0x03;
  69   1        DISP_WriteLine(1,line);
  70   1        line[8]=0xC0;
  71   1        DISP_WriteLine(0,line);
  72   1      
  73   1      
  74   1        DISP_WriteLine(7,line);
  75   1        line[7]=0x42;
  76   1        DISP_WriteLine(1,line);
  77   1        DISP_WriteLine(6,line);
  78   1        line[7]=0xA9;
  79   1        DISP_WriteLine(2,line);
  80   1        DISP_WriteLine(3,line);
  81   1        line[7]=0x84;
  82   1        DISP_WriteLine(4,line);
  83   1        line[7]=0xB9;
  84   1        DISP_WriteLine(5,line);
  85   1      
  86   1      
  87   1        while(1);
  88   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    163    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----      16
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
